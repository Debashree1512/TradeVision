<form [formGroup]="form" (ngSubmit)="submit()" class="flex flex-column gap-3">

  <div class="flex flex-column gap-1">
    <label for="fullName">Full name</label>
    <input id="fullName" pInputText formControlName="fullName" 
           [ngClass]="{'p-invalid': form.get('fullName')?.invalid && form.get('fullName')?.touched}" />
    <small class="p-error" *ngIf="form.get('fullName')?.touched && form.get('fullName')?.hasError('required')">
      *Full name is required.
    </small>
  </div>
<br>
  <div class="flex flex-column gap-1">
    <label for="email">Email</label>
    <input id="email" pInputText type="email" formControlName="email" 
           [ngClass]="{'p-invalid': form.get('email')?.invalid && form.get('email')?.touched}" />
    <small class="p-error" *ngIf="form.get('email')?.touched && form.get('email')?.invalid">
      <span *ngIf="form.get('email')?.hasError('required')">*Email is required.</span>
      <span *ngIf="form.get('email')?.hasError('email')">*Invalid email address.</span>
    </small>
  </div>
<br>
  <div class="flex flex-column gap-1">
    <label for="username">Username</label>
    <input id="username" pInputText formControlName="username" 
           [ngClass]="{'p-invalid': form.get('username')?.invalid && form.get('username')?.touched}" />
    <small class="p-error" *ngIf="form.get('username')?.touched && form.get('username')?.hasError('required')">
      *Username is required.
    </small>
  </div>
<br>
  <div class="flex flex-column gap-1">
    <label for="password">Password</label>
    <p-password id="password" formControlName="password" [toggleMask]="true" styleClass="w-full" inputStyleClass="w-full"
                [ngClass]="{'p-invalid': form.get('password')?.invalid && form.get('password')?.touched}"></p-password>
    <small class="p-error" *ngIf="form.get('password')?.touched && form.get('password')?.invalid">
      <span *ngIf="form.get('password')?.hasError('required')">*Password is required.</span>
      <span *ngIf="form.get('password')?.hasError('passwordComplexity')">*Use letters and numbers.</span>
    </small>
  </div>
<br>
  <div class="flex flex-column gap-1">
    <label for="confirmPassword">Confirm password</label>
    <p-password id="confirmPassword" formControlName="confirmPassword" [feedback]="false" [toggleMask]="true" styleClass="w-full" inputStyleClass="w-full"
                [ngClass]="{'p-invalid': (form.get('confirmPassword')?.invalid || form.hasError('mismatch')) && form.get('confirmPassword')?.touched}"></p-password>
    <small class="p-error" *ngIf="form.get('confirmPassword')?.touched">
      <span *ngIf="form.get('confirmPassword')?.hasError('required')">*Please confirm your password.</span>
      <span *ngIf="form.hasError('mismatch')">*Passwords do not match.</span>
    </small>
  </div>
<br>
  <div class="flex flex-column gap-1">
    <div class="flex align-items-center gap-2">
      <p-checkbox formControlName="agreeTerms" [binary]="true" inputId="agreeTerms"
                  [ngClass]="{'p-invalid': form.get('agreeTerms')?.invalid && form.get('agreeTerms')?.touched}"></p-checkbox>
      <label for="agreeTerms">I agree to the Terms & Conditions</label>
    </div>
    <small class="p-error" *ngIf="form.get('agreeTerms')?.touched && form.get('agreeTerms')?.invalid">
      *You must accept the terms.
    </small>
  </div>
<br>
  <p-button type="submit" label="Sign Up" styleClass="w-full mt-2"></p-button>
</form>